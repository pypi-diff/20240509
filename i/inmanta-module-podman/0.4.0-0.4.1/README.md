# Comparing `tmp/inmanta_module_podman-0.4.0-py3-none-any.whl.zip` & `tmp/inmanta_module_podman-0.4.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,25 +1,25 @@
-Zip file size: 29171 bytes, number of entries: 23
--rw-r--r--  2.0 unx    10417 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/__init__.py
--rw-r--r--  2.0 unx     2224 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/setup.cfg
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/files/.gitkeep
--rw-r--r--  2.0 unx     7388 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/model/_init.cf
--rw-r--r--  2.0 unx     1841 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/model/container.cf
--rw-r--r--  2.0 unx     5256 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/model/container_like.cf
--rw-r--r--  2.0 unx     2345 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/model/helpers.cf
--rw-r--r--  2.0 unx     1066 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/model/network.cf
--rw-r--r--  2.0 unx     2560 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/model/services/_init.cf
--rw-r--r--  2.0 unx     3906 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/model/services/systemd_container.cf
--rw-r--r--  2.0 unx     3666 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/model/services/systemd_pod.cf
--rw-r--r--  2.0 unx     5620 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/model/services/systemd_service.cf
--rw-r--r--  2.0 unx      646 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/resources/__init__.py
--rw-r--r--  2.0 unx     3054 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/resources/abc.py
--rw-r--r--  2.0 unx     8073 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/resources/image.py
--rw-r--r--  2.0 unx     3208 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/resources/image_discovery.py
--rw-r--r--  2.0 unx     8616 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/resources/network.py
--rw-r--r--  2.0 unx     2915 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/resources/network_discovery.py
--rw-r--r--  2.0 unx        0 b- defN 24-Apr-27 22:30 inmanta_plugins/podman/templates/.gitkeep
--rw-r--r--  2.0 unx      821 b- defN 24-Apr-27 22:30 inmanta_module_podman-0.4.0.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-Apr-27 22:30 inmanta_module_podman-0.4.0.dist-info/WHEEL
--rw-r--r--  2.0 unx       16 b- defN 24-Apr-27 22:30 inmanta_module_podman-0.4.0.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     2259 b- defN 24-Apr-27 22:30 inmanta_module_podman-0.4.0.dist-info/RECORD
-23 files, 75989 bytes uncompressed, 25375 bytes compressed:  66.6%
+Zip file size: 29173 bytes, number of entries: 23
+-rw-r--r--  2.0 unx    10417 b- defN 24-May-09 12:45 inmanta_plugins/podman/__init__.py
+-rw-r--r--  2.0 unx     2224 b- defN 24-May-09 12:45 inmanta_plugins/podman/setup.cfg
+-rw-r--r--  2.0 unx        0 b- defN 24-May-09 12:45 inmanta_plugins/podman/files/.gitkeep
+-rw-r--r--  2.0 unx     7388 b- defN 24-May-09 12:45 inmanta_plugins/podman/model/_init.cf
+-rw-r--r--  2.0 unx     1841 b- defN 24-May-09 12:45 inmanta_plugins/podman/model/container.cf
+-rw-r--r--  2.0 unx     5256 b- defN 24-May-09 12:45 inmanta_plugins/podman/model/container_like.cf
+-rw-r--r--  2.0 unx     2345 b- defN 24-May-09 12:45 inmanta_plugins/podman/model/helpers.cf
+-rw-r--r--  2.0 unx     1066 b- defN 24-May-09 12:45 inmanta_plugins/podman/model/network.cf
+-rw-r--r--  2.0 unx     2560 b- defN 24-May-09 12:45 inmanta_plugins/podman/model/services/_init.cf
+-rw-r--r--  2.0 unx     3906 b- defN 24-May-09 12:45 inmanta_plugins/podman/model/services/systemd_container.cf
+-rw-r--r--  2.0 unx     3666 b- defN 24-May-09 12:45 inmanta_plugins/podman/model/services/systemd_pod.cf
+-rw-r--r--  2.0 unx     5635 b- defN 24-May-09 12:45 inmanta_plugins/podman/model/services/systemd_service.cf
+-rw-r--r--  2.0 unx      646 b- defN 24-May-09 12:45 inmanta_plugins/podman/resources/__init__.py
+-rw-r--r--  2.0 unx     3059 b- defN 24-May-09 12:45 inmanta_plugins/podman/resources/abc.py
+-rw-r--r--  2.0 unx     8073 b- defN 24-May-09 12:45 inmanta_plugins/podman/resources/image.py
+-rw-r--r--  2.0 unx     3208 b- defN 24-May-09 12:45 inmanta_plugins/podman/resources/image_discovery.py
+-rw-r--r--  2.0 unx     8616 b- defN 24-May-09 12:45 inmanta_plugins/podman/resources/network.py
+-rw-r--r--  2.0 unx     2915 b- defN 24-May-09 12:45 inmanta_plugins/podman/resources/network_discovery.py
+-rw-r--r--  2.0 unx        0 b- defN 24-May-09 12:45 inmanta_plugins/podman/templates/.gitkeep
+-rw-r--r--  2.0 unx      821 b- defN 24-May-09 12:45 inmanta_module_podman-0.4.1.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-09 12:45 inmanta_module_podman-0.4.1.dist-info/WHEEL
+-rw-r--r--  2.0 unx       16 b- defN 24-May-09 12:45 inmanta_module_podman-0.4.1.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     2259 b- defN 24-May-09 12:45 inmanta_module_podman-0.4.1.dist-info/RECORD
+23 files, 76009 bytes uncompressed, 25377 bytes compressed:  66.6%
```

## zipnote {}

```diff
@@ -51,20 +51,20 @@
 
 Filename: inmanta_plugins/podman/resources/network_discovery.py
 Comment: 
 
 Filename: inmanta_plugins/podman/templates/.gitkeep
 Comment: 
 
-Filename: inmanta_module_podman-0.4.0.dist-info/METADATA
+Filename: inmanta_module_podman-0.4.1.dist-info/METADATA
 Comment: 
 
-Filename: inmanta_module_podman-0.4.0.dist-info/WHEEL
+Filename: inmanta_module_podman-0.4.1.dist-info/WHEEL
 Comment: 
 
-Filename: inmanta_module_podman-0.4.0.dist-info/top_level.txt
+Filename: inmanta_module_podman-0.4.1.dist-info/top_level.txt
 Comment: 
 
-Filename: inmanta_module_podman-0.4.0.dist-info/RECORD
+Filename: inmanta_module_podman-0.4.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## inmanta_plugins/podman/setup.cfg

```diff
@@ -1,10 +1,10 @@
 [metadata]
 name = inmanta-module-podman
-version = 0.4.0
+version = 0.4.1
 description = Simple module to manage podman resources
 long_description = file: README.md
 long_description_content_type = text/markdown
 author = Guillaume Everarts de Velp
 author_email = edvgui@gmail.com
 license = ASL 2.0
 copyright = 2023 Guillaume Everarts de Velp
```

## inmanta_plugins/podman/model/services/systemd_service.cf

```diff
@@ -34,15 +34,15 @@
 
     systemd_path = user == "root"
         ? "/etc/systemd/system/"
         : f"/home/{user}/.config/systemd/user/"
 
     systemctl_command = user == "root"
         ? "systemctl"
-        : f"sudo -E -u {user} -- systemctl --user"
+        : f"sudo --login -u {user} -- systemctl --user"
 
     # Make sure that the systemd directory exists
     self._systemd_config_dir = std::Directory(
         path=systemd_path,
         mode=755,
         owner=user,
         group=user,
@@ -80,15 +80,15 @@
     Make sure that the service is running.
     """
     user = self._container_like.owner
     host = self._container_like.host
 
     systemctl_command = user == "root"
         ? "systemctl"
-        : f"sudo -E -u {user} -- systemctl --user"
+        : f"sudo --login -u {user} -- systemctl --user"
 
     # If the service is not active, we start it
     run_service = exec::Run(
         command=f"{systemctl_command} start {self.service_name}",
         unless=exec::in_shell(f"{systemctl_command} show {self.service_name} --property=ActiveState | grep ActiveState=active"),
         host=host,
         send_event=true,
@@ -105,15 +105,15 @@
     Make sure that the service is not running.
     """
     user = self._container_like.owner
     host = self._container_like.host
 
     systemctl_command = user == "root"
         ? "systemctl"
-        : f"sudo -E -u {user} -- systemctl --user"
+        : f"sudo --login -u {user} -- systemctl --user"
 
     # If the service is active, we stop it
     stop_service = exec::Run(
         command=f"{systemctl_command} stop {self.service_name}",
         onlyif=exec::in_shell(f"{systemctl_command} show {self.service_name} --property=ActiveState | grep ActiveState=active"),
         host=host,
         send_event=true,
```

## inmanta_plugins/podman/resources/abc.py

```diff
@@ -73,15 +73,15 @@
         """
         if run_as is None:
             run_as = str(resource.owner)
 
         # The io helper will always run command as root, if we want to use another
         # user, we have to use sudo to change user.
         if run_as != "root":
-            command = ["sudo", "-E", "-u", run_as, "--", *command]
+            command = ["sudo", "--login", "-u", run_as, "--", *command]
 
         # Run the command on the host
         stdout, stderr, return_code = self._io.run(
             command[0], command[1:], env or None, cwd, timeout=timeout
         )
 
         # Log the command output
```

## Comparing `inmanta_module_podman-0.4.0.dist-info/METADATA` & `inmanta_module_podman-0.4.1.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: inmanta-module-podman
-Version: 0.4.0
+Version: 0.4.1
 Summary: Simple module to manage podman resources
 Author: Guillaume Everarts de Velp
 Author-email: edvgui@gmail.com
 License: ASL 2.0
 Description-Content-Type: text/markdown
 Requires-Dist: inmanta-module-std <6,>=4.0
 Requires-Dist: inmanta-module-exec <2,>=1.1
```

## Comparing `inmanta_module_podman-0.4.0.dist-info/RECORD` & `inmanta_module_podman-0.4.1.dist-info/RECORD`

 * *Files 15% similar despite different names*

```diff
@@ -1,23 +1,23 @@
 inmanta_plugins/podman/__init__.py,sha256=mZd53TyEBqx_fsfSTSlSiR4F24725fwaBsTCa546KnE,10417
-inmanta_plugins/podman/setup.cfg,sha256=7VifA1_tPBqt9-q5ym6lmAHDJ1s1gMOVje6aku93z2w,2224
+inmanta_plugins/podman/setup.cfg,sha256=32aaYmjEBIrlz9q6z9cfQDLJlrfVTCjy7NEeyvoDYfk,2224
 inmanta_plugins/podman/files/.gitkeep,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 inmanta_plugins/podman/model/_init.cf,sha256=9v-fV9VIO2T80i05u7VXsJ0mnp_xNCLWZlrxYl8mYxo,7388
 inmanta_plugins/podman/model/container.cf,sha256=-GDpwZcNcskQUwxUap8Vjs9OqkLlhXJioWeoqjlK33g,1841
 inmanta_plugins/podman/model/container_like.cf,sha256=4QFxX9jOkNV417h89kh5DW-QLO0VyGDxXDG9IDRgQu4,5256
 inmanta_plugins/podman/model/helpers.cf,sha256=_aQ5OWhJ5gbPKV34FdIyR-_Rs4YlKu-C2A9rXTWZRmA,2345
 inmanta_plugins/podman/model/network.cf,sha256=nHluWQn-9b04IM8HpxgihKg_jhTUPyfKP5h4CStQ7MY,1066
 inmanta_plugins/podman/model/services/_init.cf,sha256=ZoPTYN4yJKHzgddg0x8qhjFb9EzM19D72X7FrV7JJ98,2560
 inmanta_plugins/podman/model/services/systemd_container.cf,sha256=48ynfEZTJlSh0C6cdKpGOKWeeLJVlt4mvvZ3qxb6oTQ,3906
 inmanta_plugins/podman/model/services/systemd_pod.cf,sha256=WZa_UEMjaTx-L6qVCdwKk1BSogFZW1dWv8qbl5Cum8Q,3666
-inmanta_plugins/podman/model/services/systemd_service.cf,sha256=SOL6ESyq8HCwdLDxQVFxQV64MtY5kSd3YFtrcH-nSqs,5620
+inmanta_plugins/podman/model/services/systemd_service.cf,sha256=5W9EE4wdvnk8oCPO8UzF7kZN8R8C1fJ4vgzzGwWMhb4,5635
 inmanta_plugins/podman/resources/__init__.py,sha256=NVBEWheGn8M9YTpErdDAYodvUfapWtad4ys81s9KUNs,646
-inmanta_plugins/podman/resources/abc.py,sha256=fVeKcATRa5ol3cP7AVu9aiIaq4hH_LsMO7QfK9F5oxk,3054
+inmanta_plugins/podman/resources/abc.py,sha256=4tZqTP6nYHMd5ar2Vi8M9xED0pRRu7JMhbkba3ELL14,3059
 inmanta_plugins/podman/resources/image.py,sha256=vmgYqp3bKShyiZKLWcczEXbvvwdW5ZCtc4W1wSktILE,8073
 inmanta_plugins/podman/resources/image_discovery.py,sha256=D7ziB25nwobV73E-Geq7suz5qef-AcR7FV3O9Sxw-2E,3208
 inmanta_plugins/podman/resources/network.py,sha256=6TkRhNOksstoorN-w3lN1BvIsRzHru9JsHieefy9qYk,8616
 inmanta_plugins/podman/resources/network_discovery.py,sha256=4_i5EgU_ieoNPL8iOKEIKxd9hf4fGzwOItJxIPjLBvQ,2915
 inmanta_plugins/podman/templates/.gitkeep,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-inmanta_module_podman-0.4.0.dist-info/METADATA,sha256=_yYNe8K6m32B2pt-7TsPND5_1kSOe0Fa1BAS5rcbZGE,821
-inmanta_module_podman-0.4.0.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-inmanta_module_podman-0.4.0.dist-info/top_level.txt,sha256=rb9c6eWQS8KFuSa3ktEcXpk-oSsCL9ZCVAgv7S0Eg_w,16
-inmanta_module_podman-0.4.0.dist-info/RECORD,,
+inmanta_module_podman-0.4.1.dist-info/METADATA,sha256=QP1ebkurQxOgagA2X_OHg0XVsuFRh03lM27LgXMLmX8,821
+inmanta_module_podman-0.4.1.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+inmanta_module_podman-0.4.1.dist-info/top_level.txt,sha256=rb9c6eWQS8KFuSa3ktEcXpk-oSsCL9ZCVAgv7S0Eg_w,16
+inmanta_module_podman-0.4.1.dist-info/RECORD,,
```

