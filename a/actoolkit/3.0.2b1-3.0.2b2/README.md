# Comparing `tmp/actoolkit-3.0.2b1-py3-none-any.whl.zip` & `tmp/actoolkit-3.0.2b2-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,56 +1,57 @@
-Zip file size: 126846 bytes, number of entries: 54
--rw-r--r--  2.0 unx    10702 b- defN 24-May-07 15:27 toolkit.py
--rw-r--r--  2.0 unx     1139 b- defN 24-May-07 15:27 astraSDK/__init__.py
--rw-r--r--  2.0 unx     3752 b- defN 24-May-07 15:27 astraSDK/apiresources.py
--rw-r--r--  2.0 unx    17485 b- defN 24-May-07 15:27 astraSDK/apps.py
--rw-r--r--  2.0 unx     8546 b- defN 24-May-07 15:27 astraSDK/backups.py
--rw-r--r--  2.0 unx     7683 b- defN 24-May-07 15:27 astraSDK/buckets.py
--rw-r--r--  2.0 unx     7272 b- defN 24-May-07 15:27 astraSDK/clouds.py
--rw-r--r--  2.0 unx    14434 b- defN 24-May-07 15:27 astraSDK/clusters.py
--rw-r--r--  2.0 unx    14577 b- defN 24-May-07 15:27 astraSDK/common.py
--rw-r--r--  2.0 unx     9443 b- defN 24-May-07 15:27 astraSDK/credentials.py
--rw-r--r--  2.0 unx     2745 b- defN 24-May-07 15:27 astraSDK/entitlements.py
--rw-r--r--  2.0 unx     8286 b- defN 24-May-07 15:27 astraSDK/groups.py
--rw-r--r--  2.0 unx     7419 b- defN 24-May-07 15:27 astraSDK/hooks.py
--rw-r--r--  2.0 unx    46007 b- defN 24-May-07 15:27 astraSDK/k8s.py
--rw-r--r--  2.0 unx     5594 b- defN 24-May-07 15:27 astraSDK/namespaces.py
--rw-r--r--  2.0 unx     3658 b- defN 24-May-07 15:27 astraSDK/notifications.py
--rw-r--r--  2.0 unx    11501 b- defN 24-May-07 15:27 astraSDK/protections.py
--rw-r--r--  2.0 unx    10008 b- defN 24-May-07 15:27 astraSDK/replications.py
--rw-r--r--  2.0 unx     6003 b- defN 24-May-07 15:27 astraSDK/rolebindings.py
--rw-r--r--  2.0 unx     7418 b- defN 24-May-07 15:27 astraSDK/scripts.py
--rw-r--r--  2.0 unx     9715 b- defN 24-May-07 15:27 astraSDK/settings.py
--rw-r--r--  2.0 unx     7340 b- defN 24-May-07 15:27 astraSDK/snapshots.py
--rw-r--r--  2.0 unx     2516 b- defN 24-May-07 15:27 astraSDK/storagebackends.py
--rw-r--r--  2.0 unx     5151 b- defN 24-May-07 15:27 astraSDK/storageclasses.py
--rw-r--r--  2.0 unx     9335 b- defN 24-May-07 15:27 astraSDK/users.py
--rw-r--r--  2.0 unx      883 b- defN 24-May-07 15:27 tkSrc/__init__.py
--rw-r--r--  2.0 unx    32915 b- defN 24-May-07 15:27 tkSrc/choices.py
--rw-r--r--  2.0 unx     3992 b- defN 24-May-07 15:27 tkSrc/classes.py
--rw-r--r--  2.0 unx    24602 b- defN 24-May-07 15:27 tkSrc/clone.py
--rw-r--r--  2.0 unx     2110 b- defN 24-May-07 15:27 tkSrc/copy.py
--rw-r--r--  2.0 unx    30559 b- defN 24-May-07 15:27 tkSrc/create.py
--rw-r--r--  2.0 unx    11250 b- defN 24-May-07 15:27 tkSrc/deploy.py
--rw-r--r--  2.0 unx    10102 b- defN 24-May-07 15:27 tkSrc/destroy.py
--rw-r--r--  2.0 unx    26916 b- defN 24-May-07 15:27 tkSrc/helpers.py
--rw-r--r--  2.0 unx     4966 b- defN 24-May-07 15:27 tkSrc/ipr.py
--rw-r--r--  2.0 unx    19735 b- defN 24-May-07 15:27 tkSrc/list.py
--rw-r--r--  2.0 unx    17785 b- defN 24-May-07 15:27 tkSrc/manage.py
--rw-r--r--  2.0 unx    81403 b- defN 24-May-07 15:27 tkSrc/parser.py
--rw-r--r--  2.0 unx     7451 b- defN 24-May-07 15:27 tkSrc/unmanage.py
--rw-r--r--  2.0 unx    12714 b- defN 24-May-07 15:27 tkSrc/update.py
--rw-r--r--  2.0 unx      446 b- defN 24-May-07 15:27 tkSrc/templates/jinja/app.jinja
--rw-r--r--  2.0 unx      532 b- defN 24-May-07 15:27 tkSrc/templates/jinja/appVault.jinja
--rw-r--r--  2.0 unx      406 b- defN 24-May-07 15:27 tkSrc/templates/jinja/backup.jinja
--rw-r--r--  2.0 unx      374 b- defN 24-May-07 15:27 tkSrc/templates/jinja/hook.jinja
--rw-r--r--  2.0 unx      277 b- defN 24-May-07 15:27 tkSrc/templates/jinja/ipr.jinja
--rw-r--r--  2.0 unx      417 b- defN 24-May-07 15:27 tkSrc/templates/jinja/protection.jinja
--rw-r--r--  2.0 unx      584 b- defN 24-May-07 15:27 tkSrc/templates/jinja/restore.jinja
--rw-r--r--  2.0 unx      533 b- defN 24-May-07 15:27 tkSrc/templates/jinja/snapshot.jinja
--rw-r--r--  2.0 unx    11357 b- defN 24-May-07 15:27 actoolkit-3.0.2b1.dist-info/LICENSE
--rw-r--r--  2.0 unx     9193 b- defN 24-May-07 15:27 actoolkit-3.0.2b1.dist-info/METADATA
--rw-r--r--  2.0 unx       92 b- defN 24-May-07 15:27 actoolkit-3.0.2b1.dist-info/WHEEL
--rw-r--r--  2.0 unx       43 b- defN 24-May-07 15:27 actoolkit-3.0.2b1.dist-info/entry_points.txt
--rw-r--r--  2.0 unx       23 b- defN 24-May-07 15:27 actoolkit-3.0.2b1.dist-info/top_level.txt
--rw-rw-r--  2.0 unx     4257 b- defN 24-May-07 15:27 actoolkit-3.0.2b1.dist-info/RECORD
-54 files, 553646 bytes uncompressed, 120260 bytes compressed:  78.3%
+Zip file size: 130535 bytes, number of entries: 55
+-rw-r--r--  2.0 unx    10781 b- defN 24-May-09 18:54 toolkit.py
+-rw-r--r--  2.0 unx     1159 b- defN 24-May-09 18:54 astraSDK/__init__.py
+-rw-r--r--  2.0 unx     3752 b- defN 24-May-09 18:54 astraSDK/apiresources.py
+-rw-r--r--  2.0 unx    17485 b- defN 24-May-09 18:54 astraSDK/apps.py
+-rw-r--r--  2.0 unx     7733 b- defN 24-May-09 18:54 astraSDK/asups.py
+-rw-r--r--  2.0 unx     8546 b- defN 24-May-09 18:54 astraSDK/backups.py
+-rw-r--r--  2.0 unx     7683 b- defN 24-May-09 18:54 astraSDK/buckets.py
+-rw-r--r--  2.0 unx     7272 b- defN 24-May-09 18:54 astraSDK/clouds.py
+-rw-r--r--  2.0 unx    14434 b- defN 24-May-09 18:54 astraSDK/clusters.py
+-rw-r--r--  2.0 unx    15337 b- defN 24-May-09 18:54 astraSDK/common.py
+-rw-r--r--  2.0 unx     9443 b- defN 24-May-09 18:54 astraSDK/credentials.py
+-rw-r--r--  2.0 unx     2745 b- defN 24-May-09 18:54 astraSDK/entitlements.py
+-rw-r--r--  2.0 unx     8286 b- defN 24-May-09 18:54 astraSDK/groups.py
+-rw-r--r--  2.0 unx     7419 b- defN 24-May-09 18:54 astraSDK/hooks.py
+-rw-r--r--  2.0 unx    46007 b- defN 24-May-09 18:54 astraSDK/k8s.py
+-rw-r--r--  2.0 unx     5594 b- defN 24-May-09 18:54 astraSDK/namespaces.py
+-rw-r--r--  2.0 unx     3658 b- defN 24-May-09 18:54 astraSDK/notifications.py
+-rw-r--r--  2.0 unx    11583 b- defN 24-May-09 18:54 astraSDK/protections.py
+-rw-r--r--  2.0 unx    10008 b- defN 24-May-09 18:54 astraSDK/replications.py
+-rw-r--r--  2.0 unx     6003 b- defN 24-May-09 18:54 astraSDK/rolebindings.py
+-rw-r--r--  2.0 unx     7418 b- defN 24-May-09 18:54 astraSDK/scripts.py
+-rw-r--r--  2.0 unx     9715 b- defN 24-May-09 18:54 astraSDK/settings.py
+-rw-r--r--  2.0 unx     7340 b- defN 24-May-09 18:54 astraSDK/snapshots.py
+-rw-r--r--  2.0 unx     2516 b- defN 24-May-09 18:54 astraSDK/storagebackends.py
+-rw-r--r--  2.0 unx     5151 b- defN 24-May-09 18:54 astraSDK/storageclasses.py
+-rw-r--r--  2.0 unx     9335 b- defN 24-May-09 18:54 astraSDK/users.py
+-rw-r--r--  2.0 unx      883 b- defN 24-May-09 18:54 tkSrc/__init__.py
+-rw-r--r--  2.0 unx    33121 b- defN 24-May-09 18:54 tkSrc/choices.py
+-rw-r--r--  2.0 unx     4017 b- defN 24-May-09 18:54 tkSrc/classes.py
+-rw-r--r--  2.0 unx    24602 b- defN 24-May-09 18:54 tkSrc/clone.py
+-rw-r--r--  2.0 unx     2518 b- defN 24-May-09 18:54 tkSrc/copy.py
+-rw-r--r--  2.0 unx    32101 b- defN 24-May-09 18:54 tkSrc/create.py
+-rw-r--r--  2.0 unx    11250 b- defN 24-May-09 18:54 tkSrc/deploy.py
+-rw-r--r--  2.0 unx    10102 b- defN 24-May-09 18:54 tkSrc/destroy.py
+-rw-r--r--  2.0 unx    27504 b- defN 24-May-09 18:54 tkSrc/helpers.py
+-rw-r--r--  2.0 unx     4966 b- defN 24-May-09 18:54 tkSrc/ipr.py
+-rw-r--r--  2.0 unx    20334 b- defN 24-May-09 18:54 tkSrc/list.py
+-rw-r--r--  2.0 unx    17785 b- defN 24-May-09 18:54 tkSrc/manage.py
+-rw-r--r--  2.0 unx    84838 b- defN 24-May-09 18:54 tkSrc/parser.py
+-rw-r--r--  2.0 unx     7451 b- defN 24-May-09 18:54 tkSrc/unmanage.py
+-rw-r--r--  2.0 unx    12714 b- defN 24-May-09 18:54 tkSrc/update.py
+-rw-r--r--  2.0 unx      446 b- defN 24-May-09 18:54 tkSrc/templates/jinja/app.jinja
+-rw-r--r--  2.0 unx      532 b- defN 24-May-09 18:54 tkSrc/templates/jinja/appVault.jinja
+-rw-r--r--  2.0 unx      406 b- defN 24-May-09 18:54 tkSrc/templates/jinja/backup.jinja
+-rw-r--r--  2.0 unx      374 b- defN 24-May-09 18:54 tkSrc/templates/jinja/hook.jinja
+-rw-r--r--  2.0 unx      277 b- defN 24-May-09 18:54 tkSrc/templates/jinja/ipr.jinja
+-rw-r--r--  2.0 unx      417 b- defN 24-May-09 18:54 tkSrc/templates/jinja/protection.jinja
+-rw-r--r--  2.0 unx      584 b- defN 24-May-09 18:54 tkSrc/templates/jinja/restore.jinja
+-rw-r--r--  2.0 unx      533 b- defN 24-May-09 18:54 tkSrc/templates/jinja/snapshot.jinja
+-rw-r--r--  2.0 unx    11357 b- defN 24-May-09 18:55 actoolkit-3.0.2b2.dist-info/LICENSE
+-rw-r--r--  2.0 unx     9193 b- defN 24-May-09 18:55 actoolkit-3.0.2b2.dist-info/METADATA
+-rw-r--r--  2.0 unx       92 b- defN 24-May-09 18:55 actoolkit-3.0.2b2.dist-info/WHEEL
+-rw-r--r--  2.0 unx       43 b- defN 24-May-09 18:55 actoolkit-3.0.2b2.dist-info/entry_points.txt
+-rw-r--r--  2.0 unx       23 b- defN 24-May-09 18:55 actoolkit-3.0.2b2.dist-info/top_level.txt
+-rw-rw-r--  2.0 unx     4331 b- defN 24-May-09 18:55 actoolkit-3.0.2b2.dist-info/RECORD
+55 files, 569197 bytes uncompressed, 123839 bytes compressed:  78.2%
```

## zipnote {}

```diff
@@ -6,14 +6,17 @@
 
 Filename: astraSDK/apiresources.py
 Comment: 
 
 Filename: astraSDK/apps.py
 Comment: 
 
+Filename: astraSDK/asups.py
+Comment: 
+
 Filename: astraSDK/backups.py
 Comment: 
 
 Filename: astraSDK/buckets.py
 Comment: 
 
 Filename: astraSDK/clouds.py
@@ -138,26 +141,26 @@
 
 Filename: tkSrc/templates/jinja/restore.jinja
 Comment: 
 
 Filename: tkSrc/templates/jinja/snapshot.jinja
 Comment: 
 
-Filename: actoolkit-3.0.2b1.dist-info/LICENSE
+Filename: actoolkit-3.0.2b2.dist-info/LICENSE
 Comment: 
 
-Filename: actoolkit-3.0.2b1.dist-info/METADATA
+Filename: actoolkit-3.0.2b2.dist-info/METADATA
 Comment: 
 
-Filename: actoolkit-3.0.2b1.dist-info/WHEEL
+Filename: actoolkit-3.0.2b2.dist-info/WHEEL
 Comment: 
 
-Filename: actoolkit-3.0.2b1.dist-info/entry_points.txt
+Filename: actoolkit-3.0.2b2.dist-info/entry_points.txt
 Comment: 
 
-Filename: actoolkit-3.0.2b1.dist-info/top_level.txt
+Filename: actoolkit-3.0.2b2.dist-info/top_level.txt
 Comment: 
 
-Filename: actoolkit-3.0.2b1.dist-info/RECORD
+Filename: actoolkit-3.0.2b2.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## toolkit.py

```diff
@@ -18,15 +18,15 @@
 import gc
 import sys
 
 import tkSrc
 from astraSDK.common import getConfig
 
 
-def main(argv=sys.argv, config=None):
+def tkMain(argv=sys.argv, config=None):
     # The various functions to populate the lists used for choices() in the options are
     # expensive. argparse provides no way to know what subcommand was selected prior to
     # parsing the options. By then it's too late to decide which functions to run to
     # populate the various choices the differing options for each subcommand needs. So
     # we just go around argparse's back and inspect sys.argv directly.
     acl = tkSrc.classes.ArgparseChoicesLists()
     ard = tkSrc.classes.AstraResourceDicts()
@@ -261,12 +261,16 @@
         tkSrc.destroy.main(args, ard, config=config)
     elif args.subcommand == "unmanage":
         tkSrc.unmanage.main(args, ard, config=config)
     elif args.subcommand == "update":
         tkSrc.update.main(args, ard, config=config)
 
 
-if __name__ == "__main__":
+def main(argv=sys.argv, config=None):
     try:
-        main()
+        tkMain(argv=argv, config=config)
     except KeyboardInterrupt:
         pass
+
+
+if __name__ == "__main__":
+    main()
```

## astraSDK/__init__.py

```diff
@@ -12,14 +12,15 @@
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
 """
 
 from . import apiresources
 from . import apps
+from . import asups
 from . import backups
 from . import buckets
 from . import clouds
 from . import clusters
 from . import credentials
 from . import common
 from . import entitlements
```

## astraSDK/common.py

```diff
@@ -14,19 +14,20 @@
    See the License for the specific language governing permissions and
    limitations under the License.
 """
 
 import json
 import kubernetes
 import os
+import requests
+import shutil
 import sys
+import textwrap
 import yaml
 from tabulate import tabulate
-import textwrap
-import requests
 from urllib3 import disable_warnings
 
 RED = "\033[31m"
 GREEN = "\033[32m"
 ENDC = "\033[0m"
 
 
@@ -225,14 +226,30 @@
                 print(f"API HTTP Status Code: {ret.status_code} - {ret.reason}")
                 if ret.text.strip():
                     print(f"text: {ret.text}")
         if verbose:
             print(f"{GREEN}API HTTP Status Code: {ret.status_code}{ENDC}")
         return ret
 
+    def downloadFile(self, url, data, headers, params, filetype="tgz", quiet=False, verbose=False):
+        """Download a file using the requests module"""
+        try:
+            if verbose:
+                self.printVerbose(url, "get", headers, data, params, self.session)
+            filename = f"{url.split('/')[-1]}.{filetype}"
+            with self.session.get(url, json=data, headers=headers, params=params, stream=True) as s:
+                if s.ok:
+                    with open(filename, "wb") as f:
+                        shutil.copyfileobj(s.raw, f)
+                else:
+                    filename = False
+            return s, filename
+        except requests.exceptions.RequestException as e:
+            raise SystemExit(e)
+
     def jsonifyResults(self, requestsObject):
         try:
             results = requestsObject.json()
         except ValueError as e:
             print(f"response contained invalid JSON: {e}")
             results = None
         return results
```

## astraSDK/protections.py

```diff
@@ -181,14 +181,15 @@
         dayOfWeek,
         dayOfMonth,
         hour,
         minute,
         appID,
         recurrenceRule=None,
         bucketID=None,
+        customNonReplicate=False,
     ):
         endpoint = f"k8s/v1/apps/{appID}/schedules"
         url = self.base + endpoint
         params = {}
         data = {
             "type": "application/astra-schedule",
             "version": "1.2",
@@ -200,15 +201,16 @@
             "hour": hour,
             "minute": minute,
             "name": f"{granularity} schedule",
             "snapshotRetention": snapshotRetention,
         }
         if recurrenceRule:
             data["recurrenceRule"] = recurrenceRule
-            data["replicate"] = "true"
+            if customNonReplicate is False:
+                data["replicate"] = "true"
         if bucketID:
             data["bucketID"] = bucketID
 
         ret = super().apicall(
             "post",
             url,
             data,
```

## tkSrc/choices.py

```diff
@@ -223,20 +223,24 @@
                         labelString = label["name"]
                         if label.get("value"):
                             labelString += "=" + label["value"]
                         acl.labels.append(labelString)
             acl.labels = list(set(acl.labels))
 
     elif verbs["copy"]:
-        ard.apps = astraSDK.apps.getApps(config=config).main()
-        acl.apps = ard.buildList("apps", "id")
-        if len(argv) - verbPosition > 2 and argv[verbPosition + 2] in acl.apps:
-            acl.destApps = [x for x in acl.apps if x != argv[verbPosition + 2]]
+        if argv[verbPosition + 1] == "asup":
+            ard.asups = astraSDK.asups.getAsups(config=config).main()
+            acl.asups = ard.buildList("asups", "id")
         else:
-            acl.destApps = [x for x in acl.apps]
+            ard.apps = astraSDK.apps.getApps(config=config).main()
+            acl.apps = ard.buildList("apps", "id")
+            if len(argv) - verbPosition > 2 and argv[verbPosition + 2] in acl.apps:
+                acl.destApps = [x for x in acl.apps if x != argv[verbPosition + 2]]
+            else:
+                acl.destApps = [x for x in acl.apps]
 
     elif verbs["list"] and len(argv) - verbPosition >= 2:
         if argv[verbPosition + 1] == "assets":
             ard.apps = astraSDK.apps.getApps(config=config).main()
             acl.apps = ard.buildList("apps", "id")
 
     elif (verbs["manage"] or verbs["define"]) and len(argv) - verbPosition >= 2:
```

## tkSrc/classes.py

```diff
@@ -22,14 +22,15 @@
     """This Class defines a set of Lists which are used in the "choices" section of the Argparse
     parser. An empty list is perfectly valid, so all possible lists are pre-defined. These lists
     are added to by tkSrc/choices.py, and then used in tkSrc/parser.py"""
 
     def __init__(self):
         resources = {
             "apps": [],
+            "asups": [],
             "backups": [],
             "buckets": [],
             "charts": [],
             "clouds": [],
             "clusters": [],
             "contexts": [],
             "credentials": [],
```

## tkSrc/copy.py

```diff
@@ -14,16 +14,25 @@
    See the License for the specific language governing permissions and
    limitations under the License.
 """
 
 import astraSDK
 
 
+def downloadAsup(quiet, verbose, config, asupID):
+    """Download/copy an auto-support bundle to your local workstation"""
+    if rc := astraSDK.asups.downloadAsup(quiet=quiet, verbose=verbose, config=config).main(asupID):
+        return rc
+    raise SystemExit("astraSDK.asups.downloadAsup() failed")
+
+
 def main(args, config=None):
-    if args.objectType == "hooks":
+    if args.objectType == "asup":
+        downloadAsup(args.quiet, args.verbose, config, args.asupID)
+    elif args.objectType == "hooks":
         for hook in astraSDK.hooks.getHooks(config=config).main(appFilter=args.sourceApp)["items"]:
             rc = astraSDK.hooks.createHook(
                 quiet=args.quiet, verbose=args.verbose, config=config
             ).main(
                 args.destinationApp,
                 hook["name"],
                 hook["hookSourceID"],
```

## tkSrc/create.py

```diff
@@ -17,14 +17,15 @@
 
 import base64
 import json
 import os
 import sys
 import time
 import yaml
+from datetime import datetime, timedelta, timezone
 
 import astraSDK
 from tkSrc import helpers
 
 
 def monitorProtectionTask(protectionID, protectionType, appID, background, pollTimer, config=None):
     """Ensure backup/snapshot task was created successfully, then monitor"""
@@ -107,14 +108,40 @@
         except Exception as err:
             err_counter.append(err)
     for err in set([str(e) for e in err_counter]):
         resource_class.printError(err + "\n")
     return False
 
 
+def createAsup(
+    quiet,
+    verbose,
+    config,
+    upload=False,
+    hours=None,
+    days=None,
+    dataWindowStart=None,
+    dataWindowEnd=None,
+):
+    """Creates an Astra Control ASUP (auto-support bundle)"""
+    if dataWindowStart:
+        dataWindowStart = helpers.checkISO8601(dataWindowStart)
+    if dataWindowEnd:
+        dataWindowEnd = helpers.checkISO8601(dataWindowEnd)
+    if hours:
+        dataWindowStart = (datetime.now(timezone.utc) - timedelta(hours=hours)).isoformat()
+    elif days:
+        dataWindowStart = (datetime.now(timezone.utc) - timedelta(days=days)).isoformat()
+    if rc := astraSDK.asups.createAsup(quiet=quiet, verbose=verbose, config=config).main(
+        "true" if upload else "false", dataWindowStart=dataWindowStart, dataWindowEnd=dataWindowEnd
+    ):
+        return rc
+    raise SystemExit("astraSDK.asups.createAsup() failed")
+
+
 def createV3ConnectorOperator(v3, dry_run, skip_tls_verify, verbose, operator_version):
     """Creates the Arch 3.0 Astra Connector Operator"""
     context, config_file = tuple(v3.split("@"))
     helpers.run(
         f"kubectl --insecure-skip-tls-verify={skip_tls_verify} --context={context} "
         f"-v={6 if verbose else 0} apply --dry_run={dry_run if dry_run else 'none'} -f "
         f"{helpers.getOperatorURL(operator_version)}",
@@ -413,15 +440,30 @@
             v3_dict,
             version="v1",
             group="astra.netapp.io",
         )
 
 
 def main(args, ard, config=None):
-    if args.objectType == "backup":
+    if args.objectType == "asup":
+        if args.hours and (args.dataWindowStart or args.dataWindowEnd):
+            helpers.parserError("--hours cannot be used with --dataWindowStart or --dataWindowEnd")
+        elif args.days and (args.dataWindowStart or args.dataWindowEnd):
+            helpers.parserError("--days cannot be used with --dataWindowStart or --dataWindowEnd")
+        createAsup(
+            args.quiet,
+            args.verbose,
+            config,
+            args.upload,
+            args.hours,
+            args.days,
+            args.dataWindowStart,
+            args.dataWindowEnd,
+        )
+    elif args.objectType == "backup":
         if args.v3:
             if ard.needsattr("buckets"):
                 ard.buckets = astraSDK.k8s.getResources(
                     config_context=args.v3, skip_tls_verify=args.skip_tls_verify
                 ).main("appvaults")
             if args.bucket is None:
                 args.bucket = ard.getSingleDict("buckets", "status.state", "available")["metadata"][
```

## tkSrc/helpers.py

```diff
@@ -17,14 +17,15 @@
 
 import base64
 import json
 import os
 import re
 import subprocess
 import yaml
+from datetime import datetime
 
 from jinja2 import Environment, FileSystemLoader
 
 import astraSDK
 
 
 def createHelmStr(flagName, values):
@@ -641,7 +642,21 @@
     prog = "actoolkit"
     usage = (
         "usage: actoolkit [-h] [-v] [-o {json,yaml,table}] [-q] [-f] [--v3] "
         "[--dry-run {client,server}] [--insecure-skip-tls-verify] "
         "{deploy,clone,restore,ipr,list,get,copy,create,manage,define,destroy,unmanage,update} ..."
     )
     raise SystemExit(f"{usage}\n{prog}: error: {message}")
+
+
+def checkISO8601(datetimeStr):
+    """Ensures a passed date is in valid ISO-8601 format"""
+    try:
+        return datetime.strptime(datetimeStr, "%Y-%m-%dT%H:%M%z").isoformat()
+    except ValueError:
+        try:
+            return datetime.strptime(datetimeStr, "%Y-%m-%dT%H:%M:%S%z").isoformat()
+        except ValueError:
+            try:
+                return datetime.strptime(datetimeStr, "%Y-%m-%dT%H:%M:%S.%f%z").isoformat()
+            except ValueError:
+                parserError(f"{datetimeStr} does not appear to be a valid ISO-8601 date")
```

## tkSrc/list.py

```diff
@@ -18,14 +18,22 @@
 import base64
 import copy
 
 import astraSDK
 from tkSrc import helpers
 
 
+def listAsups(quiet, output, verbose, config, triggerTypeFilter=None, uploadFilter=None):
+    if rc := astraSDK.asups.getAsups(quiet=quiet, verbose=verbose, output=output).main(
+        triggerTypeFilter=triggerTypeFilter, uploadFilter=uploadFilter
+    ):
+        return rc
+    raise SystemExit("astraSDK.asups.getAsups() failed")
+
+
 def listV3Apps(v3, quiet, output, verbose, skip_tls_verify=False, nameFilter=None, namespace=None):
     """List applications Kubernetes custom resources"""
     return astraSDK.k8s.getResources(
         quiet=quiet,
         output=output,
         verbose=verbose,
         config_context=v3,
@@ -256,14 +264,23 @@
                 raise SystemExit("astraSDK.apps.getApps() failed")
     elif args.objectType == "assets":
         rc = astraSDK.apps.getAppAssets(
             quiet=args.quiet, verbose=args.verbose, output=args.output, config=config
         ).main(args.appID)
         if rc is False:
             raise SystemExit("astraSDK.apps.getAppAssets() failed")
+    elif args.objectType == "asups":
+        return listAsups(
+            args.quiet,
+            args.output,
+            args.verbose,
+            config,
+            triggerTypeFilter=args.triggerTypeFilter,
+            uploadFilter=args.uploadFilter,
+        )
     elif args.objectType == "backups":
         if args.v3:
             listV3Backups(
                 args.v3,
                 args.quiet,
                 args.output,
                 args.verbose,
```

## tkSrc/parser.py

```diff
@@ -12,14 +12,15 @@
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
 """
 
 import argparse
+from datetime import datetime, timedelta, timezone
 
 
 class ToolkitParser:
     """Creates and returns an argparse parser for use in toolkit.py"""
 
     def __init__(self, acl, plaidMode=False, v3=False):
         """Creates the parser object and global arguments"""
@@ -115,15 +116,15 @@
         self.parserList = self.subparsers.add_parser(
             "list",
             aliases=["get"],
             help="List all items in a class",
         )
         self.parserCopy = self.subparsers.add_parser(
             "copy",
-            help="Copy resources from one app to another app",
+            help="Copy resources from app to app, or to your local workstation",
         )
         self.parserCreate = self.subparsers.add_parser(
             "create",
             help="Create an object",
         )
         self.parserManage = self.subparsers.add_parser(
             "manage",
@@ -193,14 +194,18 @@
             aliases=["applications"],
             help="list apps",
         )
         self.subparserListAssets = self.subparserList.add_parser(
             "assets",
             help="list app assets",
         )
+        self.subparserListAsups = self.subparserList.add_parser(
+            "asups",
+            help="list auto-support bundles",
+        )
         self.subparserListBackups = self.subparserList.add_parser(
             "backups",
             help="list backups",
         )
         self.subparserListBuckets = self.subparserList.add_parser(
             "buckets",
             aliases=["appVaults"],
@@ -288,23 +293,30 @@
         self.subparserListUsers = self.subparserList.add_parser(
             "users",
             help="list users",
         )
 
     def sub_copy_commands(self):
         """copy 'X'"""
+        self.subparserCopyAsup = self.subparserCopy.add_parser(
+            "asup", help="copy auto-support bundle to local workstation"
+        )
         self.subparserCopyHooks = self.subparserCopy.add_parser(
-            "hooks", help="copy hooks (executionHooks) from one app to another"
+            "hooks", help="copy all hooks (executionHooks) from one app to another"
         )
         self.subparserCopyProtections = self.subparserCopy.add_parser(
-            "protections", help="copy protections from one app to another"
+            "protections", help="copy all protections from one app to another"
         )
 
     def sub_create_commands(self):
         """create 'X'"""
+        self.subparserCreateAsup = self.subparserCreate.add_parser(
+            "asup",
+            help="create auto-support bundle",
+        )
         self.subparserCreateBackup = self.subparserCreate.add_parser(
             "backup",
             help="create backup",
         )
         self.subparserCreateCluster = self.subparserCreate.add_parser(
             "cluster", help="create cluster (upload a K8s cluster kubeconfig to then manage)"
         )
@@ -769,14 +781,29 @@
         """list assets args and flags"""
         self.subparserListAssets.add_argument(
             "appID",
             choices=(None if self.plaidMode else self.acl.apps),
             help="The appID from which to display the assets",
         )
 
+    def list_asups_args(self):
+        """list auto-support bundles args and flags"""
+        self.subparserListAsups.add_argument(
+            "-t",
+            "--triggerTypeFilter",
+            choices=["manual", "scheduled"],
+            help="filter results by what triggered the creation of the ASUP",
+        )
+        self.subparserListAsups.add_argument(
+            "-u",
+            "--uploadFilter",
+            choices=["true", "false"],
+            help="filter results by whether an ASUP upload was requested",
+        )
+
     def list_backups_args(self):
         """list backups args and flags"""
         self.subparserListBackups.add_argument(
             "-a", "--app", default=None, help="Only show backups from this app"
         )
 
     def list_buckets_args(self):
@@ -1092,14 +1119,22 @@
         self.subparserListUsers.add_argument(
             "-f",
             "--nameFilter",
             default=None,
             help="Filter users by this value to minimize output (partial match)",
         )
 
+    def copy_asup_args(self):
+        """copy auto-support bundle args and flags"""
+        self.subparserCopyAsup.add_argument(
+            "asupID",
+            choices=(None if self.plaidMode else self.acl.asups),
+            help="the asup ID to copy to your local workstation",
+        )
+
     def copy_hooks_args(self):
         """copy hooks args and flags"""
         self.subparserCopyHooks.add_argument(
             "sourceApp",
             choices=(None if self.plaidMode else self.acl.apps),
             help="the app to source the hooks from",
         )
@@ -1118,14 +1153,65 @@
         )
         self.subparserCopyProtections.add_argument(
             "destinationApp",
             choices=(None if self.plaidMode else self.acl.destApps),
             help="the app to copy the protections into",
         )
 
+    def create_asup_args(self):
+        """create auto-support bundle args and flags"""
+        self.subparserCreateAsup.add_argument(
+            "-u",
+            "--upload",
+            default=False,
+            action="store_true",
+            help="upload the bundle to the NetApp Support Site when generated",
+        )
+        now = datetime.now(timezone.utc)
+        customTime = self.subparserCreateAsup.add_argument_group(
+            "Custom Time Frame",
+            "Optionally specify a start and/or end timestamp for the auto-support bundle "
+            "(cannot be used with Quick Time Group)",
+        )
+        customTime.add_argument(
+            "--dataWindowStart",
+            default=None,
+            help="specify an ISO-8601 timestamp, like: "
+            f"{(now-timedelta(days=1)).isoformat(timespec='seconds')} (defaults to 24 hours before "
+            "--dateWindowEnd, max is 7 days before current time)",
+        )
+        customTime.add_argument(
+            "--dataWindowEnd",
+            default=None,
+            help=f"specify an ISO-8601 timestamp, like: {now.isoformat(timespec='seconds')}"
+            " (defaults to current time of request)"
+        )
+        quickTime = self.subparserCreateAsup.add_argument_group(
+            "Quick Time Frame",
+            "Optionally specify the previous X hours/days for the auto-support bundle "
+            "(mutually exclusive; cannot be used with Custom Time Group)",
+        )
+        qTimeME = quickTime.add_mutually_exclusive_group()
+        qTimeME.add_argument(
+            "-H",
+            "--hours",
+            default=None,
+            choices=range(1, 25),
+            type=int,
+            help="create an auto-support bundle spanning the last X hours",
+        )
+        qTimeME.add_argument(
+            "-d",
+            "--days",
+            default=None,
+            choices=range(1, 8),
+            type=int,
+            help="create an auto-support bundle spanning the last X days",
+        )
+
     def create_backup_args(self):
         """create backups args and flags"""
         self.subparserCreateBackup.add_argument(
             "app",
             choices=(None if self.plaidMode else self.acl.apps),
             help="app to backup",
         )
@@ -2132,14 +2218,15 @@
 
         self.deploy_acp_args()
         self.deploy_chart_args()
 
         self.list_apiresources_args()
         self.list_apps_args()
         self.list_assets_args()
+        self.list_asups_args()
         self.list_backups_args()
         self.list_buckets_args()
         self.list_clouds_args()
         self.list_clusters_args()
         self.list_credentials_args()
         self.list_hooks_args()
         self.list_ldapgroups_args()
@@ -2153,17 +2240,19 @@
         self.list_restores_args()
         self.list_rolebindings_args()
         self.list_scripts_args()
         self.list_snapshots_args()
         self.list_storageclasses_args()
         self.list_users_args()
 
+        self.copy_asup_args()
         self.copy_hooks_args()
         self.copy_protections_args()
 
+        self.create_asup_args()
         self.create_backup_args()
         self.create_cluster_args()
         self.create_group_args()
         self.create_hook_args()
         self.create_ldap_args()
         self.create_protection_args()
         self.create_replication_args()
```

## Comparing `actoolkit-3.0.2b1.dist-info/LICENSE` & `actoolkit-3.0.2b2.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `actoolkit-3.0.2b1.dist-info/METADATA` & `actoolkit-3.0.2b2.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: actoolkit
-Version: 3.0.2b1
+Version: 3.0.2b2
 Summary: Toolkit and SDK for interacting with Astra Control
 Home-page: https://github.com/NetApp/netapp-astra-toolkits
 Author: Michael Haigh
 Author-email: Michael.Haigh@netapp.com
 Classifier: Programming Language :: Python :: 3
 Classifier: License :: OSI Approved :: Apache Software License
 Classifier: Operating System :: OS Independent
```

## Comparing `actoolkit-3.0.2b1.dist-info/RECORD` & `actoolkit-3.0.2b2.dist-info/RECORD`

 * *Files 10% similar despite different names*

```diff
@@ -1,54 +1,55 @@
-toolkit.py,sha256=kHtSUYYLxnulhrvp06vjXuNZz3A0VeeV8rOR2rN5bm0,10702
-astraSDK/__init__.py,sha256=9IogQObmUB6rrUv2B_MemA3XJI6BraZzfJn5ewLrGww,1139
+toolkit.py,sha256=aN4nyLRZQ8hbnuIkGWQgsFnbPVXsRcipYP-KkQabrrI,10781
+astraSDK/__init__.py,sha256=BPwcXOOAPgbaPJL3MZFIMf1F_lBH0tARF4ka90Ta-ZI,1159
 astraSDK/apiresources.py,sha256=zYgekglDN08ix0VVzj4996jkN5t7W3xk2xJIXdyPj_k,3752
 astraSDK/apps.py,sha256=Rz2RLdqWVH3CXkdbMUH3HI0af0moPq4J3zRTwQzGXPo,17485
+astraSDK/asups.py,sha256=zbTyUFhEQbqCM_xieEFtBVrScd_hFiTzIJv1yEKueNw,7733
 astraSDK/backups.py,sha256=oEw3-loNaR47A-7C7F_tInO7Epu3IkSKxXj6j-lVaZE,8546
 astraSDK/buckets.py,sha256=dcYe_WD9BpTLzu_0G3ovAZWAjOof7ZfKzXunx9MwhX8,7683
 astraSDK/clouds.py,sha256=uF_cSyJi6GvbhgCySzHnnpOwU59KqAP6Z52QFD4Ti-k,7272
 astraSDK/clusters.py,sha256=po9MWnlL7B4G3E_p7lHBjujampOymtIXs3CzLu2QASQ,14434
-astraSDK/common.py,sha256=TgO7jAy7bZQZu4nJ954cP-aAZxRBRcfy4N5ThY2F0Hw,14577
+astraSDK/common.py,sha256=xo8swbl0DOeQMKB4FtRlKzuwV4IhVX0XHADgLK8HAgk,15337
 astraSDK/credentials.py,sha256=ftklPJEoE78EtVfNvh_hy6K0G_Tsu79od1aMo_BrRqw,9443
 astraSDK/entitlements.py,sha256=KosRc-foh6aR66pNw_W6Onp_NW1aBNWlz1rMagolbYM,2745
 astraSDK/groups.py,sha256=WEzXUDWbTz0nh_Q7JhH_pQ8EIEz9EBmD5HU5fb2wQEg,8286
 astraSDK/hooks.py,sha256=_-hV9y75RYFr5GMHCdf_FK3WFRdeZ_ByY2q8Oj9iyFQ,7419
 astraSDK/k8s.py,sha256=vZMZC9eH1RrAIN1hF9K0psCXoNi-w6qEaeH6A6x0Zhs,46007
 astraSDK/namespaces.py,sha256=L8kk15drlu_AMoc4sxUFyvGoo3XCROZRZ9utHONGzOE,5594
 astraSDK/notifications.py,sha256=h-ryFujL0HkIZoVrRN-oICt6AxhCnG_D-z8dD9kSzVk,3658
-astraSDK/protections.py,sha256=wWTU9vQzGdJNDSi5VcgwLUQmgzUwnTZwNgeIWKKm1Xo,11501
+astraSDK/protections.py,sha256=ud5h-w_g3EWHWSfRyfNB70U3IFJAD3MA-QdA4jmOLnw,11583
 astraSDK/replications.py,sha256=-tG3zEv2_bifwMzODMSGgCGjljsJwIk4uXhJPmTGHvQ,10008
 astraSDK/rolebindings.py,sha256=FaX-9TyidT4k8MZfuzxkHbZMmcv0M-d7HHPFU7qe44o,6003
 astraSDK/scripts.py,sha256=6GigDKuGXgmIdUglkf9Ky_hpxqBd1U8v20dB_TtAzYk,7418
 astraSDK/settings.py,sha256=ktYwoCgfzBWpQyhBraBThn9OQ8tSuNaQRtJLaQAc-3g,9715
 astraSDK/snapshots.py,sha256=3AoLjUGDKe9lZ9f_fA4iljmGCcKUHZ30lnS4cWB-wlI,7340
 astraSDK/storagebackends.py,sha256=t6hmKaP8xo6okZfz2b-Iu42PEWwwHCVZ7wj9bwAjVnY,2516
 astraSDK/storageclasses.py,sha256=K1uBpUG1oRbUNcfWp-zvPZkHjmeGms2E-I8S96oNdkk,5151
 astraSDK/users.py,sha256=JP6W0cVntretPR3amrBkHVHp4rZ9d1KWxIuA062y4zg,9335
 tkSrc/__init__.py,sha256=KPADRIrGnPbCppvc6xCrqzum-H7N9sFeyWHhjm9wdmI,883
-tkSrc/choices.py,sha256=fhK92z4ZhvmWbq5R6q6hAMeCOmuT8HKKjknohb5b7aU,32915
-tkSrc/classes.py,sha256=y3vFRoRsJS0UXWBrBjcG8ULUotd5NZEQedZu5TqYlPQ,3992
+tkSrc/choices.py,sha256=DJ2pkBkHuM51VpsULbeyRV6KUvMcmYsRjKvwHDmjOng,33121
+tkSrc/classes.py,sha256=nHTvLAZjZCmb0fhjVY1jABukHT_Hcd2EHrvBI7gKKS4,4017
 tkSrc/clone.py,sha256=x7Z3zL8n5feGShhtbnlbLX1vXM4nG3RDnS1Cowk5sNQ,24602
-tkSrc/copy.py,sha256=v_bK2B9PgljnS71X3jXmP76JM5TQMhcptjikTI6Se1Y,2110
-tkSrc/create.py,sha256=VilGrznBLhVaePcT1DwzAOIjEWIkvebjxhK7S-VEx2c,30559
+tkSrc/copy.py,sha256=yCjJQTWrC2v7Zx0hrCrV-GM5pnkeg9pbI7TVh9EjwOo,2518
+tkSrc/create.py,sha256=-Ij-rCcvph9nuxCoKe3NctXl9Yjs5ovYnZooEf6N_G8,32101
 tkSrc/deploy.py,sha256=-9hVttpltj5-xHVh38cGKcfxqAIyFSgv5LwbrDNTTN4,11250
 tkSrc/destroy.py,sha256=l8VTmsZy2hjjt0zicckSanMgyeRiGM0-xxFdHwfJEvg,10102
-tkSrc/helpers.py,sha256=8tGOVsmppExCeclfAmoyYr_iUzrUxylpytMMRUIKAB8,26916
+tkSrc/helpers.py,sha256=4ANxoceCQHSx-U5QoOmVaxyejX02HYBEWo0MIwsTnXY,27504
 tkSrc/ipr.py,sha256=7FBCdgJRCn_W3Op_GW-X6DPOSZnIuNELoLe7kDfDVOA,4966
-tkSrc/list.py,sha256=Lr-lshwgO3OE2QrPlw2tMrY6_NwWP1vq8EsQSNN0wT0,19735
+tkSrc/list.py,sha256=J94sUm0JgwewrMCK3tEvPPHW3hGLPG2Nssu9xXe0c8I,20334
 tkSrc/manage.py,sha256=HK7DTY3WDYq6HqRqj73I_WDVbLXuqXe6zLmPwBC5844,17785
-tkSrc/parser.py,sha256=afxHFUE8Y549Yue4utmCZX-8Yg5Ir1vZema9P-JA6l0,81403
+tkSrc/parser.py,sha256=9mFoQhDWktyL7Frut05atPSQs4wl8VCqxYAeQcG6xls,84838
 tkSrc/unmanage.py,sha256=-eEzMKeI3615pV2KyhrQ3RYVaYNXtmlJwYP4kzVVkew,7451
 tkSrc/update.py,sha256=C4DyxlsdmgiDt4_bAyFNHnv2jbZ4YBGXRsy0aYgmJ5c,12714
 tkSrc/templates/jinja/app.jinja,sha256=6hkzd1kb3M2NWv1fOHERBacuIZ6Y4f-ymJthwPWHaF8,446
 tkSrc/templates/jinja/appVault.jinja,sha256=pJccPuk1Co6oGvwqYwy0kHGoLGtrmKqLMewYLovSYcU,532
 tkSrc/templates/jinja/backup.jinja,sha256=0m1Z-plkxS8xIa8QgmnnR5eNaLxHQkM1EJwgTGKOPF0,406
 tkSrc/templates/jinja/hook.jinja,sha256=shg7mtmw-pxyQPvc1ApJBk9h1ra33X5zWY6QXVnemE0,374
 tkSrc/templates/jinja/ipr.jinja,sha256=o24Gd86lkZicpwrlRRxz2asvQBDzGGpv8q7XGeNKO9A,277
 tkSrc/templates/jinja/protection.jinja,sha256=W2kXOkrkSLoHuAJJY3RFesc0HF_LSyuJ5dFBBMiwE-U,417
 tkSrc/templates/jinja/restore.jinja,sha256=yofEKvIBF5dwBVbdjIlLBoMk99JR9h97HzUmBbYaNw0,584
 tkSrc/templates/jinja/snapshot.jinja,sha256=kyEShlXwosIr7jYbywD-VcuaezhI2HpXYvVDleC7KzU,533
-actoolkit-3.0.2b1.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
-actoolkit-3.0.2b1.dist-info/METADATA,sha256=-BgxWhUDJT36pjJqFUiS27ZsggD5rky2KFUQJuU-1TY,9193
-actoolkit-3.0.2b1.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
-actoolkit-3.0.2b1.dist-info/entry_points.txt,sha256=MdrJm8ktNHa01CEY7q5irB9JDPT_qg6hVpZWUhbKXWU,43
-actoolkit-3.0.2b1.dist-info/top_level.txt,sha256=wWyEWMBpCvR7Kv5mt_hBl4SEOLoVTV_9blXZhzBu7Y8,23
-actoolkit-3.0.2b1.dist-info/RECORD,,
+actoolkit-3.0.2b2.dist-info/LICENSE,sha256=xx0jnfkXJvxRnG63LTGOxlggYnIysveWIZ6H3PNdCrQ,11357
+actoolkit-3.0.2b2.dist-info/METADATA,sha256=12NoxkgFa8fVssuGS7cL8mdGyGg7EcqdrCj5tuzA_mU,9193
+actoolkit-3.0.2b2.dist-info/WHEEL,sha256=GJ7t_kWBFywbagK5eo9IoUwLW6oyOeTKmQ-9iHFVNxQ,92
+actoolkit-3.0.2b2.dist-info/entry_points.txt,sha256=MdrJm8ktNHa01CEY7q5irB9JDPT_qg6hVpZWUhbKXWU,43
+actoolkit-3.0.2b2.dist-info/top_level.txt,sha256=wWyEWMBpCvR7Kv5mt_hBl4SEOLoVTV_9blXZhzBu7Y8,23
+actoolkit-3.0.2b2.dist-info/RECORD,,
```

